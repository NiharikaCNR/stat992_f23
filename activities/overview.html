<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>activity_plans</title>
    <meta charset="utf-8" />
    <script src="libs/header-attrs-2.25/header-attrs.js"></script>
    <link href="libs/remark-css-0.0.1/default.css" rel="stylesheet" />
    <link rel="stylesheet" href="css/xaringan-themer.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">


# STAT 679 / 992: Statistical Data Visualization

## Fall 2023



---

# September 7, 2023

1. Review syllabus
1. Review class resources
1. In-Class Exercise 0.1

---

### Welcome!!

I'm excited to share this course with you this semester. There are few
activities that engage creative, quantitative, and critical thinking skills all
at once, but data visualization is one of them.

Nothing makes my day like a good data visualization, and I look forward to
seeing those that you create.

---

### Syllabus

* Learning outcomes
* Teaching team and office hours
* Assessments
* Grading

---

### Learning Outcomes

In this class, you will learn to...

1. Draw from a **catalog of visual encodings** to support specific visual comparisons in temporal, geospatial, network, hierarchical, high-dimensional count, text, and uncertain data and demonstrate facility implementing them using the R and javascript programming languages.
2.	Draw from a **catalog of interactivity patterns** to compose visualizations that
respond to userâ€™s dynamic queries.
3.	Using the vocabulary of data visualization, **analyze and critique visual designs**.

---

### Learning Outcomes

In this class, you will learn to...

4.	Given a data analysis problem and initial design solution, iteratively **refine visual encodings and interactivity** idioms from across the design space until a satisfactory solution is discovered.
5.	**Navigate the data visualization research literature**, summarize the contributions of a specific methodological proposal, and evaluate their applicability in specific problem contexts.

---

### Office Hours

We will announce in-person and virtual office hours depending on the results of
this poll: https://go.wisc.edu/93oh27

---

### Assessments

* In-class exercises and discussions graded for completeness
* 4 problem sets 
* 3 group project reports and 1 presentation
  - Teams of 4 - 5 people
* 1 midterm exam

---

### Grading

* Problem Sets: 35%
* Group Project: 25%
* In-Class Exercises: 20%
* Midterm: 20%

---

### Canvas Page Walkthrough

&lt;img src="figures/canvas.png" width="650" style="display: block; margin: auto;" /&gt;

---

### Class Resources

1. [Canvas page](https://canvas.wisc.edu/courses/374041)
  - Links to all other resources
1. [Readings](https://drive.google.com/file/d/16jr5MlX8axfDVZ3kS4vZuWzqDOpj1Wng/view?usp=sharing)
1. [Exercises](https://canvas.wisc.edu/courses/374041/files?preview=33640181)
1. [Online notes](https://krisrs1128.github.io/stat992_f23/website/docs/)
1. [Online recordings](https://mediaspace.wisconsin.edu/) (also linked in notes)

---

### Last Year's Course Reflections

* [https://go.wisc.edu/vwie77](https://go.wisc.edu/vwie77)

---

### Questions?

Also feel free to speak with me after class.

---

### Send me visualizations

If over the course of the semester you find a data visualization that you think
might be interesting to the class, send me a link! There's a lot that can be
learned through imitation.

Examples: 
* https://book.rwithoutstatistics.com/data-viz-chapter.html
* https://ijeamaka.art/portfolio/radial_patterns/
* https://observablehq.com/@visionscarto/potential-dollar-flows?collection=@visionscarto/30daymapchallenge
* http://nbremer.github.io/urbanization/

---

### Exercise 0.1

1. Introduce yourself to at least two people who you do not already know.

1. Submit a response to [Formulating Questions] in the exercise sheet.

1. Share your chosen datasets in small groups.

[Formulating Questions] Pick a dataset from
[TidyTuesday](https://github.com/rfordatascience/tidytuesday#datasets), [Data Is
Plural](https://docs.google.com/spreadsheets/d/1wZhPLMCHKJvwOkP4juclhjFgqIY8fQFMemwKL2c64vk/edit#gid=0),
[Kaggle Datasets](https://www.kaggle.com/datasets), [Google Dataset
Search](https://datasetsearch.research.google.com/), or your own personal
studies that you would like to visualize this semester. What makes you
interested in this dataset? Please provide a link, so we can refer to the data in future sessions.

---

# September 12, 2023

1. Exercise review
1. In-Class Demo [City Temperatures]
1. In-Class Exercise 1.1

---

### Announcements

1. Office hours will be held Mondays 3:15 - 4:30pm and Wednesdays 10am -
11:15am. You can join in person at Medical Sciences Center 7225C or through
Zoom.

1. The description for how to form groups is in Project Milestone 0. If you do
not form a team by the deadline, you will be randomly assigned one.

1. Problem set 1 is online.

1. Project Milestone 0 (Forming Groups) is due on September 18.

---

### Beautiful Visualizations - Comments?

.pull-left[
&lt;img src="figures/exoplanets.png" width=400/&gt;
]

.pull-right[
[Source](https://www.behance.net/gallery/78642081/IAU100-exhibition-data-visualization-and-graphics)

[Plot background](https://stackoverflow.com/questions/51255832/how-to-add-an-image-on-ggplot-background-not-the-panel)
]

---

### Exercise Review

Let's analyze the exercise results together.

[https://go.wisc.edu/fzn067](https://go.wisc.edu/fzn067)

---

### In-Class Demo 1.1

[https://go.wisc.edu/fzn067](https://go.wisc.edu/fzn067)

We'll also see how you can submit results using Rmarkdown.

---

### Exercise 1.1

The data below measures properties of various Antarctic penguins.


```r
penguins &lt;- read_csv("https://uwmadison.box.com/shared/static/ijh7iipc9ect1jf0z8qa2n3j7dgem1gh.csv")
```

Create a single plot that makes it easy to answer both of these questions,
(i) How is bill length related to bill depth within and across species? (ii)
On which islands are which species found?

Read about [Simpson's
paradox](https://en.wikipedia.org/wiki/Simpson%27s_paradox) and summarize it
in your own words. Then, explain how part (i) provides a real-world example
of this paradox.

If you finish early -- can you think of an alternative encoding that
visualizes the same information? How do the encodings compare and contrast
with one another?

---

# September 14, 2023

1. Exercise review
1. In-Class Demo [Plant growth]
1. (If Time) Discussion [When2meet]
1. [In-Class Exercise 1.2]

---

### Announcements

1. The description for how to form groups is in Project Milestone 0. If you do
not form a team by the deadline, you will be randomly assigned one.

1. Problem set 1 is online.

1. Project Milestone 0 (Forming Groups) is due on September 18.


---

### Beautiful Visualizations - Comments?

.pull-left[
&lt;img src="figures/djokovic.jpeg" width=350/&gt;
]

.pull-right[
[Source](https://ig.ft.com/sites/novak-djokovic-the-best-tennis-season-ever/)
]

---

### Exercise Review

This is an exercise in compactly encoding a mix of continuous (bill length and
depth) and nominal (species and island) variables. There are several approaches
possible, and there are trade-offs between them,

  * Color and shape: It's convenient to place all data into the same space, but
  shapes can be hard to read.
  * Color combinations: It's easier to distinguish colors than shapes, but requires
  continually looking up which color is which combination.
  * Faceting: Easier to compare combination, but each panel gets less space.
  
---

### Exercise Review


```r
ggplot(penguins) +
  geom_point(aes(bill_length_mm, bill_depth_mm, col = species, shape = island))
```

&lt;img src="overview_files/figure-html/unnamed-chunk-3-1.png" width="600" style="display: block; margin: auto;" /&gt;

---


```r
ggplot(penguins) +
  geom_point(aes(bill_length_mm, bill_depth_mm, col = species, shape = island)) +
  scale_color_brewer(palette = "Set2") +
  scale_shape_manual(values = c(16, 0, 8)) +
  labs(
    x = "Bill Depth",
    y = "Bill Length"
  )
```

&lt;img src="overview_files/figure-html/unnamed-chunk-4-1.png" width="550" style="display: block; margin: auto;" /&gt;
---


```r
ggplot(penguins) +
  geom_point(aes(bill_length_mm, bill_depth_mm, col = interaction(species, island))) +
  scale_color_brewer(palette = "Set2") +
  theme(strip.text = element_text(size = 18)) +
  labs(
    x = "Bill Depth",
    y = "Bill Length"
  )
```

&lt;img src="overview_files/figure-html/unnamed-chunk-5-1.png" width="550" style="display: block; margin: auto;" /&gt;

---

### Exercise Review


```r
ggplot(penguins) +
  geom_point(aes(bill_length_mm, bill_depth_mm, col = species)) +
  facet_wrap(~ island)
```

&lt;img src="overview_files/figure-html/unnamed-chunk-6-1.png" width="1000" style="display: block; margin: auto;" /&gt;

---

### Exercise Review


```r
ggplot(penguins) +
  geom_point(aes(bill_length_mm, bill_depth_mm, col = species)) +
  facet_wrap(~ island) +
  scale_color_brewer(palette = "Set2") +
  theme(strip.text = element_text(size = 18)) +
  labs(
    x = "Bill Depth",
    y = "Bill Length"
  )
```

&lt;img src="overview_files/figure-html/unnamed-chunk-7-1.png" width="800" style="display: block; margin: auto;" /&gt;

---

### Exercise Review


```r
ggplot(penguins, aes(bill_length_mm, bill_depth_mm)) +
  geom_point(aes(col = species, shape = island)) +
  stat_smooth(aes(col = species), method = "lm", se = FALSE) +
  stat_smooth(method = "lm", se = FALSE, col = "#0c0c0c") +
  scale_color_brewer(palette = "Set2") +
  scale_shape_manual(values = c(16, 0, 8)) +
  theme(strip.text = element_text(size = 18)) +
  labs(
    x = "Bill Depth",
    y = "Bill Length"
  )
```

&lt;img src="overview_files/figure-html/unnamed-chunk-8-1.png" width="320" style="display: block; margin: auto;" /&gt;

---

### Exercise Review


```r
ggplot(penguins, aes(bill_length_mm, bill_depth_mm)) +
  geom_point(aes(col = species)) +
  stat_smooth(aes(col = species), method = "lm", se = FALSE) +
  stat_smooth(method = "lm", se = FALSE, col = "#0c0c0c") +
  facet_wrap(~ island) +
  scale_color_brewer(palette = "Set2") +
  theme(strip.text = element_text(size = 18)) +
  labs(
    x = "Bill Depth",
    y = "Bill Length"
  )
```

&lt;img src="overview_files/figure-html/unnamed-chunk-9-1.png" width="650" style="display: block; margin: auto;" /&gt;

---

### Discussion [When2Meet]

* With your neighbors, work through (a - c) of [When2Meet] on the exercise
sheet
* I will ask groups to share brief a summary of their discussions with the rest
of the class
* The question is included on the next slide

---

In addition to being a scheduling tool, When2Meet polls provide a heatmap
visualization of respondent availability. In this exercise, use the results from
our [office hour poll](https://www.when2meet.com/?16334941-sIMyb) to evaluate
the properties of this visualization.

  a. What are two concrete questions that the heatmap visualization is
  effective at answering? Why do you think this?
  
  b. What are two concrete questions that the heatmap visualization is *not* 
  effective at answering? Why do you think this?
  
  c. Describe an alternative static or interactive visual design that is
  better suited to one of the questions you identified in (b).
  
  d. The dataset at [this link](https://raw.githubusercontent.com/krisrs1128/stat679_code/main/examples/week1/when2meet_679f22.csv) include responses from our poll. Columns 1 - 35 represent students, and 1/0
  denotes whether the student is or is not available. Implement a version of
  your proposed visual design from (c).
  
---

### In-Class Demo 1.2

[https://go.wisc.edu/7if91e](https://go.wisc.edu/7if91e)

We'll also see how you can submit results using Rmarkdown.

---

### Exercise 1.2

In teams of 2 - 4 people, work through [Concept Map] in the exercise sheet. For
submission, include a photo of your concept map and summarize the main points
from your discussion.

[Concept Map] Prepare a concept map to summarize the last week of reading
material. An effective submission will include a thorough coverage of both
abstract concepts and practical examples, summarized concisely into short
phrases. It will also include well-justified links between nodes, with text
explanations for edges whose interpretation might not be obvious at first.

---

# September 19, 2023

1. Exercise review
1. Code demo [Improving an App]
1. [In-Class Exercise 2.1]

---

### Announcements

1. Problem Set 1 is due October 2
1. Project Milestone 1 is due October 16
1. Please remember that there are course recordings linked to the notes

---

### Discussion [When2Meet]

* With your neighbors, work through (a - c) of [When2Meet] on the exercise
sheet
* I will ask groups to share brief a summary of their discussions with the rest
of the class
* The question is included on the next slide

---

In addition to being a scheduling tool, When2Meet polls provide a heatmap
visualization of respondent availability. In this exercise, use the results from
our [office hour poll](https://www.when2meet.com/?20896504-xidOG) to evaluate
the properties of this visualization.

  a. What are two concrete questions that the heatmap visualization is
  effective at answering? Why do you think this?
  
  b. What are two concrete questions that the heatmap visualization is *not* 
  effective at answering? Why do you think this?
  
  c. Describe an alternative static or interactive visual design that is
  better suited to one of the questions you identified in (b).
  
  d. The dataset at [this link](https://raw.githubusercontent.com/krisrs1128/stat679_code/main/examples/week1/when2meet_679f22.csv) include responses from our poll. Columns 1 - 35 represent students, and 1/0
  denotes whether the student is or is not available. Implement a version of
  your proposed visual design from (c).

---

### Exercise Review

A few common themes emerged across most submissions,

* The distinctions between data, geometry, and encoding in ggplot2
* Descriptions of what make an encoding / visualization effective
  - Clear comparisons, overall readability, orientation around specific tasks
* Description of the different ggplot2 geometry layers
* Examples of faceting and when it can be helpful

---

### In-Class Demo [Improving an App]

* This exercise uses reactive expressions to make messy (but still functional)
Shiny apps more readable

* [https://go.wisc.edu/7mh8l5](https://go.wisc.edu/7mh8l5)

---

### Exercise 2.1

[Olympics Interactive App] 
 
 Hints:
 
   *  For part (a), a `renderPlot()` server element needs to be rerun each time
   the sports `selectInput` has been changed.
   * For part (b), consider how we shared filtered data across server elements
   in the penguin example today.
 
---

### September 21, 2023

1. Exercise review
1. Code demo [California Wildfires]
1. [In-Class Exercise 2.2]

---

### Announcements

1. Problem Set 1 is due October 2
1. Project Milestone 1 is due October 16

---

### Beautiful Visualizations

.pull-left[
&lt;img src="figures/isee.png"/&gt;
]

.pull-right[
Interactive SummarizedExperiment Explorer

* [Publication](https://bioconductor.org/packages/release/bioc/html/iSEE.html#:~:text=doi%3A10.12688/f1000research.14966.1)
* [Example](http://shiny.imbei.uni-mainz.de:3838/iSEE/)
* [Source Code](https://github.com/iSEE/iSEE)
]

---

### Exercise Review

**Part (a)**: The following server code creates a "selected" column specifying
whether the athlete competes in one of the selected sports.


```r
server &lt;- function(input, output) {
  current_data &lt;- reactive({
    olympics %&gt;%
      mutate(selected = Sports %in% input$dropdown)
  })
  
  output$scatterplot &lt;- scatterplot(current_data())
}
```

---

### Exercise Review

&lt;iframe src="https://data-viz.it.wisc.edu/content/5c919ba9-52e0-4f3a-ba35-47a58eed16fd" width=800 height=500/&gt;

---

### Exercise Review

**Part (b)**: We can introduce a `dataTableOutput` to print the selected athletes.


```r
ui &lt;- fluidPage(
  selectInput("dropdown", "Select a Sport", choices = unique(olympics$Sport), multiple = TRUE),
  plotOutput("scatterplot"),
  dataTableOutput("table")
)
```

---

### Exercise Review

We can use the same reactive as before to populate the table.


```r
server &lt;- function(input, output) {
  updated &lt;- reactive({
    olympics %&gt;%
      mutate(selected = Sport %in% input$dropdown)
  })
  
  output$scatterplot &lt;- renderPlot(scatterplot(updated()))
  output$table &lt;- renderDataTable(
    updated %&gt;% filter(selected)
  )
}
```

---

### Exercise Review

&lt;iframe src="https://data-viz.it.wisc.edu/content/04140b59-14cd-4c04-91b2-a0c64e6ee29c" width=800 height=500/&gt;

---

### Exercise Review

.pull-left[
* This is also our first visualization implementing something like a "Focus +
Context Principle." 
* We're able to zoom into a few elements of interest without
losing the overall context.
]

.pull-right[
&lt;iframe src="https://player.vimeo.com/video/363453522?h=ea9887b2e6" width="610" height="330" frameborder="0" allow="autoplay; fullscreen; picture-in-picture" allowfullscreen&gt;&lt;/iframe&gt;
&lt;p&gt;&lt;a href="https://vimeo.com/363453522"&gt;[VIS19 Preview] Periphery Plots for Contextualizing Heterogeneous Time-Based Charts (short paper)&lt;/a&gt;&lt;/p&gt;
]

---

### Code Demo

* This exercise will give some more practice with Shiny visualization. We'll
look at a dataset of California Wildfires between 2013 and 2019.

* [Link]

---

### In-Class Exercise

In your project group, work through [Reactivity Graphs] in the exercise sheet.

For submission, have one member of your team submit a short video of the
original interactive visualization and a sketch of the reactive graph you
derived from it.

Additionally:  Identify one point of common confusion across your group. Include
this in your write-up so that we can go over the most common ones during lecture
on Monday.

---

### September 26, 2023

1. Project Strategies + Q&amp;A
1. [In-Class Demo 3.1]
1. [In-Class Exercise 3.1]

---

### Announcements

1. Problem Set 1 is due October 2
1. Project Milestone 1 is due October 16

---

### Shiny Apps in Problem Sets

If you tried compiling a Shiny app within an rmarkdown document, you probably
saw a message like the one below,

&lt;img src="figures/shiny_rmarkdown.png"/&gt;

You did not make a mistake! Shiny doesn't allow you to host an app within an
Rmarkdown document, unfortunately.

---

### Shiny Apps in Submissions

To let us grade your Shiny apps within the problem sets, you have two options,

1. Include a screen recording of your app along with the code you used to create
it. If you do this, you do not need to make sure other computers can run your
code -- we will just read it.

1. You could try hosting your app on a public site. UW Madison has an Rstudio
Connect account, which lets you host apps for free. You can sign up
[here](https://it.wisc.edu/news/rstudio-team-pilot/).

---

### Beautiful Visualizations

[https://alhill.shinyapps.io/COVID19seir/](https://alhill.shinyapps.io/COVID19seir)

[https://peopleofthepandemicgame.com/](https://peopleofthepandemicgame.com/)

&lt;img src="figures/covid19seir.png"/&gt;

---

### In-Class Demo

* This exercise uses extends our earlier wildfires app to use graphical inputs

* Demo link: [https://go.wisc.edu/34u1t5](https://go.wisc.edu/34u1t5)

---

### In-Class Demo

[https://go.wisc.edu/3uv12r](https://go.wisc.edu/3uv12r)

Right now, the dotplot responds to the brushed histogram. However,

  * The dotplot does not allow any user inputs.
  * The histogram does not reflect year or user selections.

Imagine someone came to your statistical consulting hours with this application.
They want your expertise to improve the app so that it conveys more information.
How would you approach this? What might be some first steps towards
implementation?

Take 7 minutes to discuss with a neighbor, then we will regroup and share.

---

### In-Class Exercise

[Birds Brushed Scatterplot] - Only part (a)

Hint: This problem is similar to the example in Week 3 - 2: Brush Inputs.

    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"ratio": "16:9"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
